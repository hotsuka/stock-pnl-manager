# Stock P&L Manager - 環境変数設定例
# このファイルを .env にコピーして、実際の値を設定してください

# =============================================================================
# アプリケーション基本設定
# =============================================================================

# Flask実行設定
FLASK_APP=run.py
FLASK_ENV=development  # development / production

# シークレットキー（本番環境では必ず変更してください）
# 生成方法: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-here-change-in-production

# =============================================================================
# データベース設定
# =============================================================================

# SQLiteデータベースのパス
DATABASE_URL=sqlite:///stock_pnl.db

# データベースのバックアップディレクトリ
BACKUP_DIR=./backups

# =============================================================================
# ログ設定
# =============================================================================

# ログレベル: DEBUG / INFO / WARNING / ERROR / CRITICAL
LOG_LEVEL=INFO

# ログファイルのパス
LOG_FILE=flask.log

# ログの最大サイズ（バイト）
LOG_MAX_BYTES=10485760  # 10MB

# ログファイルのバックアップ数
LOG_BACKUP_COUNT=5

# =============================================================================
# 外部API設定（オプション）
# =============================================================================

# Yahoo Finance API（現在はyfinanceライブラリを使用、APIキー不要）
# YAHOO_FINANCE_API_KEY=

# 為替レートAPI（現在はforex-pythonを使用、APIキー不要）
# EXCHANGE_RATE_API_KEY=

# =============================================================================
# アプリケーション動作設定
# =============================================================================

# 株価データのキャッシュ時間（秒）
PRICE_CACHE_DURATION=3600  # 1時間

# 配当データのキャッシュ時間（秒）
DIVIDEND_CACHE_DURATION=86400  # 24時間

# 評価指標のキャッシュ時間（秒）
METRICS_CACHE_DURATION=86400  # 24時間

# 為替レートのキャッシュ時間（秒）
EXCHANGE_RATE_CACHE_DURATION=3600  # 1時間

# =============================================================================
# セキュリティ設定
# =============================================================================

# CSRF保護（本番環境では有効にしてください）
WTF_CSRF_ENABLED=true

# セッションクッキーの設定
SESSION_COOKIE_SECURE=false  # HTTPSの場合はtrue
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# =============================================================================
# パフォーマンス設定
# =============================================================================

# SQLAlchemyのプール設定
SQLALCHEMY_POOL_SIZE=10
SQLALCHEMY_MAX_OVERFLOW=20
SQLALCHEMY_POOL_TIMEOUT=30
SQLALCHEMY_POOL_RECYCLE=3600

# =============================================================================
# アップロード設定
# =============================================================================

# CSVアップロードの最大ファイルサイズ（バイト）
MAX_UPLOAD_SIZE=16777216  # 16MB

# アップロードディレクトリ
UPLOAD_FOLDER=./data/uploads

# =============================================================================
# 本番環境専用設定
# =============================================================================

# Gunicorn設定（本番環境でGunicornを使用する場合）
# GUNICORN_WORKERS=4
# GUNICORN_BIND=0.0.0.0:8000
# GUNICORN_TIMEOUT=120

# リバースプロキシ設定
# PREFERRED_URL_SCHEME=https
# PROXY_FIX_ENABLED=true

# =============================================================================
# 開発環境専用設定
# =============================================================================

# デバッグモード（本番環境では必ずfalseに）
DEBUG=true

# 自動リロード
FLASK_DEBUG=1

# SQLクエリのログ出力
SQLALCHEMY_ECHO=false
