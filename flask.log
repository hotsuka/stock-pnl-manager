2026-01-10 13:57:08 - app - INFO - ======================================================================
2026-01-10 13:57:08 - app - INFO - Application started - Environment: development
2026-01-10 13:57:08 - app - INFO - ======================================================================
 * Serving Flask app 'app'
 * Debug mode: on
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.32.142:5000
Press CTRL+C to quit
 * Restarting with stat
2026-01-10 13:57:09 - app - INFO - ======================================================================
2026-01-10 13:57:09 - app - INFO - Application started - Environment: development
2026-01-10 13:57:09 - app - INFO - ======================================================================
 * Debugger is active!
 * Debugger PIN: 288-796-061
127.0.0.1 - - [10/Jan/2026 13:57:17] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 13:57:23] "GET /api/performance/daily-detail/2025-12 HTTP/1.1" 500 -
127.0.0.1 - - [10/Jan/2026 13:57:40] "GET /api/performance/daily-detail/2025-12 HTTP/1.1" 500 -
 * Detected change in 'C:\\Users\\the-b\\stock-pnl-manager\\app\\routes\\api.py', reloading
Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

 * Restarting with stat
2026-01-10 13:58:26 - app - INFO - ======================================================================
2026-01-10 13:58:26 - app - INFO - Application started - Environment: development
2026-01-10 13:58:26 - app - INFO - ======================================================================
 * Debugger is active!
 * Debugger PIN: 288-796-061
127.0.0.1 - - [10/Jan/2026 13:58:34] "GET /api/performance/daily-detail/2025-12 HTTP/1.1" 500 -
127.0.0.1 - - [10/Jan/2026 13:58:49] "GET /api/performance/detail?date=2025-12 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 13:58:59] "GET /api/performance/detail?date=2025-12 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 13:59:10] "GET /api/performance/detail?date=2025-12 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 13:59:16] "GET /api/performance/detail?date=2025-12 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 13:59:24] "GET /api/performance?period=1y&benchmarks=TOPIX,SP500 HTTP/1.1" 500 -
127.0.0.1 - - [10/Jan/2026 13:59:28] "GET /api/performance?period=1y HTTP/1.1" 500 -
127.0.0.1 - - [10/Jan/2026 13:59:46] "GET /api/performance/history?period=1y HTTP/1.1" 500 -
 * Detected change in 'C:\\Users\\the-b\\stock-pnl-manager\\app\\services\\performance_service.py', reloading
Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

ERROR in get_performance_history: Traceback (most recent call last):
  File "C:\Users\the-b\stock-pnl-manager\app\routes\api.py", line 932, in get_performance_history
    portfolio_data = PerformanceService.get_monthly_performance_history()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\stock-pnl-manager\app\services\performance_service.py", line 217, in get_monthly_performance_history
    end_date = date.today()
               ^^^^
NameError: name 'date' is not defined

 * Restarting with stat
2026-01-10 13:59:59 - app - INFO - ======================================================================
2026-01-10 13:59:59 - app - INFO - Application started - Environment: development
2026-01-10 13:59:59 - app - INFO - ======================================================================
 * Debugger is active!
 * Debugger PIN: 288-796-061
2026-01-10 14:00:47 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 14:00:48 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:00:48 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 14:00:48 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 14:00:48 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:00:48 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 14:01:17] "GET /api/performance/history?period=1y HTTP/1.1" 200 -
2026-01-10 14:02:09 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 14:02:09 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:02:09 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 14:02:09 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 14:02:09 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:02:10 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 14:02:38] "GET /api/performance/history?period=1y HTTP/1.1" 200 -
2026-01-10 14:03:24 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 14:03:24 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:03:24 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 14:03:24 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 14:03:24 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:03:25 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 14:03:52] "GET /api/performance/history?period=1y HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:04:26] "GET /performance HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:04:26] "GET /favicon.ico HTTP/1.1" 500 -
2026-01-10 14:04:37 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-12-11 to 2026-01-09)
2026-01-10 14:04:37 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:04:37 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (19 days)
2026-01-10 14:04:37 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-12-11 to 2026-01-09)
2026-01-10 14:04:37 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:04:37 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (20 days)
127.0.0.1 - - [10/Jan/2026 14:04:38] "GET /api/performance/history?period=1m&benchmarks=true HTTP/1.1" 200 -
2026-01-10 14:04:45 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-12-11 to 2026-01-09)
2026-01-10 14:04:45 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:04:45 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (19 days)
2026-01-10 14:04:45 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-12-11 to 2026-01-09)
2026-01-10 14:04:46 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:04:46 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (20 days)
127.0.0.1 - - [10/Jan/2026 14:04:54] "GET /api/performance/history?period=1m&benchmarks=true HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:05:07] "GET /api/performance/detail?date=2026-01-09 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:05:20] "GET /api/performance/detail?date=2026-01-08 HTTP/1.1" 200 -
2026-01-10 14:05:28 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-28 to 2026-01-09)
2026-01-10 14:05:28 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-28', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:05:29 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (233 days)
2026-01-10 14:05:29 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-28 to 2026-01-09)
2026-01-10 14:05:30 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-28', 'end': '2026-01-09'} - SUCCESS
127.0.0.1 - - [10/Jan/2026 14:05:31] "GET /api/performance/detail?date=2026-01-06 HTTP/1.1" 200 -
2026-01-10 14:05:31 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (240 days)
2026-01-10 14:05:55 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 14:05:55 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:05:56 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 14:05:56 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 14:05:57 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
127.0.0.1 - - [10/Jan/2026 14:05:57] "GET /api/performance/detail?date=2026-01-07 HTTP/1.1" 200 -
2026-01-10 14:05:58 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=30, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=30
DEBUG: Period: 2025-12-11 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=30, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=30
DEBUG: Period: 2025-12-11 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1958, 60)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (163, 54)
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 51)
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers2026-01-10 14:06:06 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 14:06:06 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:06:07 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 14:06:07 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 14:06:07 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:06:08 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 14:06:15] "GET /api/performance/detail?date=2026-01-05 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:06:23] "GET /api/performance/history?period=1y&benchmarks=true HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:06:37] "GET /api/performance/detail?date=2025-12 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:06:42] "GET /api/performance/history?period=1y&benchmarks=true HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:06:42] "GET /api/performance/history?period=1y&benchmarks=true HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:07:29] "GET /api/performance/detail?date=2025-04 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:08:21] "GET /api/performance/detail?date=2025-10 HTTP/1.1" 200 -
 * Detected change in 'C:\\Users\\the-b\\stock-pnl-manager\\app\\services\\performance_service.py', reloading

DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1866, 55)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
 * Restarting with stat
2026-01-10 14:14:38 - app - INFO - ======================================================================
2026-01-10 14:14:38 - app - INFO - Application started - Environment: development
2026-01-10 14:14:38 - app - INFO - ======================================================================
 * Debugger is active!
 * Debugger PIN: 288-796-061
2026-01-10 14:15:16 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-12-11 to 2026-01-09)
2026-01-10 14:15:16 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:15:16 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (19 days)
2026-01-10 14:15:16 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-12-11 to 2026-01-09)
2026-01-10 14:15:16 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:15:16 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (20 days)
127.0.0.1 - - [10/Jan/2026 14:15:19] "GET /api/performance/history?period=1m HTTP/1.1" 200 -
2026-01-10 14:15:35 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-12-11 to 2026-01-09)
2026-01-10 14:15:35 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:15:35 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (19 days)
2026-01-10 14:15:35 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-12-11 to 2026-01-09)
2026-01-10 14:15:35 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:15:35 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (20 days)
127.0.0.1 - - [10/Jan/2026 14:15:35] "GET /api/performance/history?period=1m HTTP/1.1" 200 -
2026-01-10 14:15:56 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-12-11 to 2026-01-09)
2026-01-10 14:15:56 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:15:56 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (19 days)
2026-01-10 14:15:56 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-12-11 to 2026-01-09)
2026-01-10 14:15:56 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:15:56 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (20 days)
127.0.0.1 - - [10/Jan/2026 14:15:57] "GET /api/performance/history?period=1m HTTP/1.1" 200 -
2026-01-10 14:16:15 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-12-11 to 2026-01-09)
2026-01-10 14:16:15 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:16:15 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (19 days)
2026-01-10 14:16:15 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-12-11 to 2026-01-09)
2026-01-10 14:16:15 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:16:15 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (20 days)
127.0.0.1 - - [10/Jan/2026 14:16:16] "GET /api/performance/history?period=1m HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:17:02] "GET /performance HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:17:03] "GET /favicon.ico HTTP/1.1" 500 -
2026-01-10 14:17:14 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-12-11 to 2026-01-09)
2026-01-10 14:17:14 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:17:14 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (19 days)
2026-01-10 14:17:14 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-12-11 to 2026-01-09)
2026-01-10 14:17:14 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:17:14 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (20 days)
127.0.0.1 - - [10/Jan/2026 14:17:14] "GET /api/performance/history?period=1m&benchmarks=true HTTP/1.1" 200 -
2026-01-10 14:17:55 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-28 to 2026-01-09)
2026-01-10 14:17:55 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-28', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:17:56 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (233 days)
2026-01-10 14:17:56 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-28 to 2026-01-09)
2026-01-10 14:17:57 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-28', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:17:58 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (240 days)
2026-01-10 14:18:27 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 14:18:27 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:18:28 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 14:18:28 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 14:18:28 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:18:28 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 14:18:41] "GET /api/performance/history?period=1y&benchmarks=true HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:18:57] "GET /api/performance/history?period=1y&benchmarks=true HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:18:57] "GET /api/performance/detail?date=2025-12 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:19:45] "GET /performance HTTP/1.1" 200 -
DEBUG: get_performance_history_with_benchmark called with days=30, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=30
DEBUG: Period: 2025-12-11 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=30, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=30
DEBUG: Period: 2025-12-11 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=30, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=30
DEBUG: Period: 2025-12-11 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=30, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=30
DEBUG: Period: 2025-12-11 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=30, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=30
DEBUG: Period: 2025-12-11 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (117, 61)
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 71)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
127.0.0.1 - - [10/Jan/2026 14:19:45] "GET /favicon.ico HTTP/1.1" 500 -
2026-01-10 14:20:13 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 14:20:14 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:20:14 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 14:20:14 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 14:20:15 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:20:16 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
2026-01-10 14:20:43 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 14:20:44 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:20:44 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 14:20:44 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 14:20:44 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:20:46 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
2026-01-10 14:21:04 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 14:21:05 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:21:06 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 14:21:06 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 14:21:07 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:21:07 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 14:21:24] "GET /api/performance/history?period=1y&benchmarks=true HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:21:26] "GET /api/performance/history?period=1y&benchmarks=true HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:21:41] "GET /api/performance/history?period=1y&benchmarks=true HTTP/1.1" 200 -
2026-01-10 14:22:54 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-12-11 to 2026-01-09)
2026-01-10 14:22:54 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:22:54 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (19 days)
2026-01-10 14:22:54 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-12-11 to 2026-01-09)
2026-01-10 14:22:54 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:22:54 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (20 days)
127.0.0.1 - - [10/Jan/2026 14:22:54] "GET /api/performance/history?period=1m&benchmarks=true HTTP/1.1" 200 -
2026-01-10 14:23:05 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-12-11 to 2026-01-09)
2026-01-10 14:23:05 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:23:05 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (19 days)
2026-01-10 14:23:05 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-12-11 to 2026-01-09)
2026-01-10 14:23:05 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:23:05 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (20 days)
127.0.0.1 - - [10/Jan/2026 14:23:06] "GET /api/performance/history?period=1m&benchmarks=true HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:23:13] "GET /api/performance/detail?date=2026-01-09 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:23:55] "GET /api/performance/detail?date=2026-01-08 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:24:01] "GET /api/performance/detail?date=2026-01-05 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:24:10] "GET /api/performance/detail?date=2026-01-02 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:24:35] "GET /api/performance/detail?date=2025-12-31 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:24:44] "GET /api/performance/detail?date=2026-01-06 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:24:51] "GET /api/performance/detail?date=2026-01-07 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:25:12] "GET /api/performance/detail?date=2025-12-22 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:25:25] "GET /api/performance/detail?date=2025-12-15 HTTP/1.1" 200 -
2026-01-10 14:26:44 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 14:26:44 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:26:44 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 14:26:45 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 14:26:45 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 14:26:45 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 14:27:12] "GET /api/performance/history?period=1y HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:34:31] "GET /realized-pnl HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:34:31] "GET /favicon.ico HTTP/1.1" 500 -
127.0.0.1 - - [10/Jan/2026 14:34:32] "GET /api/exchange-rate/multiple?currencies=USD,KRW HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:34:32] "GET /api/realized-pnl HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:34:38] "GET /holdings HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:34:38] "GET /api/holdings HTTP/1.1" 200 -

DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Prices DataFrame Shape: (1183, 57)
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1865, 55)
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1977, 60)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=30, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=30
DEBUG: Period: 2025-12-11 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=30, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=30
DEBUG: Period: 2025-12-11 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
127.0.0.1 - - [10/Jan/2026 14:34:38] "GET /favicon.ico HTTP/1.1" 500 -
127.0.0.1 - - [10/Jan/2026 14:34:38] "GET /api/exchange-rate/multiple?currencies=USD,KRW HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:34:44] "GET /api/holdings/metrics HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:36:16] "GET /dashboard HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:36:16] "GET /favicon.ico HTTP/1.1" 500 -
127.0.0.1 - - [10/Jan/2026 14:36:16] "GET /api/holdings HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:36:17] "GET /api/exchange-rate/multiple?currencies=USD,KRW HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:36:17] "GET /api/dashboard/summary HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:36:17] "GET /api/dashboard/yearly-stats HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:36:17] "GET /api/realized-pnl HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:36:56] "GET /holdings HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:36:56] "GET /api/holdings HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:36:56] "GET /favicon.ico HTTP/1.1" 500 -
127.0.0.1 - - [10/Jan/2026 14:36:56] "GET /api/exchange-rate/multiple?currencies=USD,KRW HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:37:00] "GET /api/holdings/metrics HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:37:26] "POST /api/stock-price/update-all HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:37:26] "GET /api/holdings HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:37:27] "GET /api/exchange-rate/multiple?currencies=USD,KRW HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:37:34] "GET /api/holdings/metrics HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:37:36] "GET /api/holdings/metrics HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:40:59] "GET /dashboard HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:41:00] "GET /api/holdings HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:41:00] "GET /favicon.ico HTTP/1.1" 500 -
127.0.0.1 - - [10/Jan/2026 14:41:00] "GET /api/exchange-rate/multiple?currencies=USD,KRW HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:41:01] "GET /api/dashboard/summary HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:41:01] "GET /api/dashboard/yearly-stats HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 14:41:01] "GET /api/realized-pnl HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 20:49:56] "GET /api/performance/detail?date=2025-12 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 20:50:02] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 20:50:10] "GET /api/performance/detail?date=2025-12 HTTP/1.1" 200 -
2026-01-10 20:51:54 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 20:51:54 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 20:51:54 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 20:51:54 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 20:51:55 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 20:51:55 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 20:52:23] "GET /api/performance/history?period=1y HTTP/1.1" 200 -
 * Detected change in 'C:\\Users\\the-b\\stock-pnl-manager\\app\\services\\performance_service.py', reloading

Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

Fetching prices for 26 holdings...
Fetching exchange rates for 2 currencies...
Updated 26/26 holdings successfully
Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
 * Restarting with stat
2026-01-10 20:53:25 - app - INFO - ======================================================================
2026-01-10 20:53:25 - app - INFO - Application started - Environment: development
2026-01-10 20:53:25 - app - INFO - ======================================================================
 * Debugger is active!
 * Debugger PIN: 288-796-061
2026-01-10 20:53:54 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 20:53:54 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 20:53:54 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 20:53:54 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 20:53:55 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 20:53:55 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 20:54:23] "GET /api/performance/history?period=1y HTTP/1.1" 200 -
2026-01-10 20:54:43 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 20:54:43 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 20:54:43 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 20:54:43 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 20:54:44 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 20:54:44 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 20:55:11] "GET /api/performance/history?period=1y HTTP/1.1" 200 -
2026-01-10 20:55:51 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 20:55:51 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 20:55:51 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 20:55:51 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 20:55:51 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 20:55:52 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 20:56:19] "GET /api/performance/history?period=1y HTTP/1.1" 200 -
2026-01-10 20:56:39 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 20:56:39 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 20:56:40 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 20:56:40 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 20:56:40 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 20:56:40 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 20:57:08] "GET /api/performance/history?period=1y HTTP/1.1" 200 -
2026-01-10 21:00:40 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 21:00:40 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:00:40 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 21:00:40 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 21:00:40 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:00:40 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 21:01:09] "GET /api/performance/history?period=1y HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:01:21] "GET /api/performance/detail?date=2025-12 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:03:40] "GET /api/performance/detail?date=2025-12 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:04:00] "GET /performance HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:04:02] "GET /favicon.ico HTTP/1.1" 500 -
2026-01-10 21:04:12 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-12-11 to 2026-01-09)
2026-01-10 21:04:13 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:04:13 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (19 days)
2026-01-10 21:04:13 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-12-11 to 2026-01-09)
2026-01-10 21:04:13 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:04:13 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (20 days)
127.0.0.1 - - [10/Jan/2026 21:04:15] "GET /api/performance/history?period=1m&benchmarks=true HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:04:37] "GET /api/performance/detail?date=2026-01-09 HTTP/1.1" 200 -
2026-01-10 21:04:58 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 21:04:58 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:04:58 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 21:04:58 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 21:04:59 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:04:59 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=30, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=30
DEBUG: Period: 2025-12-11 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully2026-01-10 21:05:21 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 21:05:21 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:05:22 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 21:05:22 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 21:05:22 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:05:22 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 21:05:33] "GET /api/performance/history?period=1y&benchmarks=true HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:05:39] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:05:46] "GET /api/performance/detail?date=2025-12 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:05:52] "GET /api/performance/history?period=1y&benchmarks=true HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:06:08] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:06:16] "GET /api/performance/detail?date=2025-10 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:06:29] "GET /api/performance/detail?date=2025-02 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:06:45] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:08:09] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:08:39] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:08:45] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:08:52] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:09:00] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
 * Detected change in 'C:\\Users\\the-b\\stock-pnl-manager\\app\\services\\performance_service.py', reloading

DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
 * Restarting with stat
2026-01-10 21:09:25 - app - INFO - ======================================================================
2026-01-10 21:09:25 - app - INFO - Application started - Environment: development
2026-01-10 21:09:25 - app - INFO - ======================================================================
 * Debugger is active!
 * Debugger PIN: 288-796-061
 * Detected change in 'C:\\Users\\the-b\\stock-pnl-manager\\app\\services\\performance_service.py', reloading
 * Restarting with stat
2026-01-10 21:09:37 - app - INFO - ======================================================================
2026-01-10 21:09:37 - app - INFO - Application started - Environment: development
2026-01-10 21:09:37 - app - INFO - ======================================================================
 * Debugger is active!
 * Debugger PIN: 288-796-061
127.0.0.1 - - [10/Jan/2026 21:09:53] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:10:01] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:10:09] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:10:39] "GET /performance HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:10:40] "GET /favicon.ico HTTP/1.1" 500 -
2026-01-10 21:10:51 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-12-11 to 2026-01-09)
2026-01-10 21:10:51 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:10:51 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (19 days)
2026-01-10 21:10:51 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-12-11 to 2026-01-09)
2026-01-10 21:10:51 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:10:51 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (20 days)
127.0.0.1 - - [10/Jan/2026 21:10:53] "GET /api/performance/history?period=1m&benchmarks=true HTTP/1.1" 200 -
2026-01-10 21:11:20 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 21:11:20 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:11:20 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 21:11:20 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 21:11:21 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:11:21 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
2026-01-10 21:11:42 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-01-10 to 2026-01-09)
2026-01-10 21:11:42 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:11:43 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (244 days)
2026-01-10 21:11:43 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-01-10 to 2026-01-09)
2026-01-10 21:11:43 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-01-10', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:11:43 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (251 days)
127.0.0.1 - - [10/Jan/2026 21:11:54] "GET /api/performance/history?period=1y&benchmarks=true HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:12:04] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:12:13] "GET /api/performance/history?period=1y&benchmarks=true HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:12:20] "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 500 -
127.0.0.1 - - [10/Jan/2026 21:12:31] "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 500 -
127.0.0.1 - - [10/Jan/2026 21:12:36] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:13:05] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:13:14] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:13:20] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
 * Detected change in 'C:\\Users\\the-b\\stock-pnl-manager\\app\\services\\performance_service.py', reloading
DEBUG: get_performance_history_with_benchmark called with days=30, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=30
DEBUG: Period: 2025-12-11 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: get_performance_history_with_benchmark called with days=365, benchmarks=['TOPIX', 'SP500']
DEBUG: get_performance_history called with days=365
DEBUG: Period: 2025-01-10 to 2026-01-10
DEBUG: Found 236 transactions
DEBUG: Tickers=76, Period=2018-06-02 to 2026-01-10
DEBUG: Downloading batch 1/6: 15 tickers
DEBUG: Batch 1 completed successfully
DEBUG: Downloading batch 2/6: 15 tickers
DEBUG: Batch 2 completed successfully
DEBUG: Downloading batch 3/6: 15 tickers
DEBUG: Batch 3 completed successfully
DEBUG: Downloading batch 4/6: 15 tickers
DEBUG: Batch 4 completed successfully
DEBUG: Downloading batch 5/6: 15 tickers
DEBUG: Batch 5 completed successfully
DEBUG: Downloading batch 6/6: 1 tickers
DEBUG: Batch 6 completed successfully
DEBUG: Prices DataFrame Shape: (1983, 76)
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
DEBUG: Benchmark data prepared: ['TOPIX', 'SP500']
Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 841, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 450, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\the-b\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

 * Restarting with stat
2026-01-10 21:13:39 - app - INFO - ======================================================================
2026-01-10 21:13:39 - app - INFO - Application started - Environment: development
2026-01-10 21:13:39 - app - INFO - ======================================================================
 * Debugger is active!
 * Debugger PIN: 288-796-061
127.0.0.1 - - [10/Jan/2026 21:13:52] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:14:01] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:14:10] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:14:16] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:14:23] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:14:45] "GET /api/performance/detail?date=2026-01 HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:17:37] "GET /performance HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:17:42] "GET /performance HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:17:48] "GET /performance HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:17:57] "GET /performance HTTP/1.1" 200 -
127.0.0.1 - - [10/Jan/2026 21:17:58] "GET /favicon.ico HTTP/1.1" 500 -
2026-01-10 21:18:08 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^N225 (2025-12-11 to 2026-01-09)
2026-01-10 21:18:09 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^N225 - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:18:09 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: TOPIX (19 days)
2026-01-10 21:18:09 - app.services.benchmark_fetcher - INFO - Fetching benchmark historical data from yfinance: ^GSPC (2025-12-11 to 2026-01-09)
2026-01-10 21:18:09 - app.services.benchmark_fetcher - INFO - External API call to yfinance - get_benchmark_history/^GSPC - Params: {'start': '2025-12-11', 'end': '2026-01-09'} - SUCCESS
2026-01-10 21:18:09 - app.services.benchmark_fetcher - INFO - Benchmark historical data fetched: SP500 (20 days)
127.0.0.1 - - [10/Jan/2026 21:18:11] "GET /api/performance/history?period=1m&benchmarks=true HTTP/1.1" 200 -
